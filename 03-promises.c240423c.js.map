{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SA0CpCC,eAAeC,EAAOC,EAAUC,GAC9B,OAdF,SAAuBD,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACaC,KAAKC,SAAW,GAEpCJ,EAAQ,C,SAAEH,E,MAAUC,IAEpBG,EAAO,C,SAAEJ,E,MAAUC,GAAQ,GAE5BA,EAAM,G,CAKJO,CAAcR,EAAUC,E,CAGjCN,EAAKc,iBAAiB,UAjCtB,SAAoBC,GAClBA,EAAMC,iBACN,MAAMC,KAAEA,EAAIC,OAAEA,EAAMZ,MAAEA,GAbxB,WACE,MACEa,UAAUb,MAAEA,EAAKW,KAAEA,EAAIC,OAAEA,IACvBlB,EACJ,MAAO,CACLM,MAAOc,OAAOd,EAAMe,OACpBJ,KAAMG,OAAOH,EAAKI,OAClBH,OAAQE,OAAOF,EAAOG,O,CAMQC,GAE1BC,EAAW,GACjB,IAAK,IAAIC,EAAI,EAAGA,GAAKN,EAAQM,IAC3BD,EAASE,KAAKrB,EAAOoB,EAAGlB,GAASkB,EAAI,GAAKP,IAG5CV,QAAQmB,IAAIH,EAASI,KAAI,CAACC,EAASC,IAC1BD,EACJE,MAAK,IAAMhC,EAAAiC,OAAOC,QAAQ,uBAAqBH,EAAS,QAASvB,EAAOuB,EAAQZ,SAAYgB,OAC1F,IAAUnC,EAAAiC,OAAMG,QAAC,sBAASL,EAAqB,QAAUvB,EAAMuB,EAAQZ,W","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\n\nfunction getInputValues() {\n  const {\n    elements: { delay, step, amount },\n  } = form;\n  return {\n    delay: Number(delay.value),\n    step: Number(step.value),\n    amount: Number(amount.value),\n  };\n}\n\nfunction formSubmit(event) {\n  event.preventDefault();\n  const { step, amount, delay } = getInputValues();\n\n  const promises = [];\n  for (let i = 1; i <= amount; i++) {\n    promises.push(create(i, delay + (i - 1) * step));\n  }\n\n  Promise.all(promises.map((promise, index) => {\n    return promise\n      .then(() => Notify.success(`✅ Fulfilled promise ${index + 1} in ${delay + index * step}ms`))\n      .catch(() => Notify.failure(`❌ Rejected promise ${index + 1} in ${delay + index * step}ms`));\n  }));\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nasync function create(position, delay) {\n  return createPromise(position, delay);\n}\n\nform.addEventListener('submit', formSubmit);"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","async","$47d4ff9957288465$var$create","position","delay","Promise","resolve","reject","setTimeout","Math","random","$47d4ff9957288465$var$createPromise","addEventListener","event","preventDefault","step","amount","elements","Number","value","$47d4ff9957288465$var$getInputValues","promises","i","push","all","map","promise","index","then","Notify","success","catch","failure"],"version":3,"file":"03-promises.c240423c.js.map"}