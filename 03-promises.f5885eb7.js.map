{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAEpC,SAASC,IACP,MACEC,UAAUC,MAAEA,EAAKC,KAAEA,EAAIC,OAAEA,IACvBP,EACJ,MAAO,CACLK,MAAOG,OAAOH,EAAMI,OACpBH,KAAME,OAAOF,EAAKG,OAClBF,OAAQC,OAAOD,EAAOE,O,CAiC1BC,eAAeC,EAAOC,EAAUP,GAC9B,OAdF,SAAuBO,EAAUP,GAC/B,OAAO,IAAIQ,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACaC,KAAKC,SAAW,GAEpCJ,EAAQ,C,SAAEF,E,MAAUP,IAEpBU,EAAO,C,SAAEH,E,MAAUP,GAAQ,GAE5BA,EAAM,G,CAKJc,CAAcP,EAAUP,E,CAGjCL,EAAKoB,iBAAiB,UAjCtBV,eAA0BW,GACxBA,EAAMC,iBACN,IAAIjB,EAAQF,IAAiBE,MAC7B,MAAMC,KAAEA,EAAIC,OAAEA,GAAWJ,IAEzB,IAAK,IAAIoB,EAAI,EAAGA,EAAIhB,EAAQgB,IAAK,CAC/B,UACQZ,EAAOY,EAAI,EAAGlB,GACpBP,EAAA0B,OAAOC,QAAQ,uBAAqBF,EAAK,QAASlB,M,CAClD,MAAOqB,GACP5B,EAAA0B,OAAOG,QAAQ,sBAAoBJ,EAAG,QAASlB,M,CAEjDA,GAASC,C","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\n\nfunction getInputValues() {\n  const {\n    elements: { delay, step, amount },\n  } = form;\n  return {\n    delay: Number(delay.value),\n    step: Number(step.value),\n    amount: Number(amount.value),\n  };\n}\n\nasync function formSubmit(event) {\n  event.preventDefault();\n  let delay = getInputValues().delay; \n  const { step, amount } = getInputValues();\n\n  for (let i = 0; i < amount; i++) {\n    try {\n      await create(i + 1, delay);\n      Notify.success(`✅ Fulfilled promise ${i + 1} in ${delay}ms`);\n    } catch (error) {\n      Notify.failure(`❌ Rejected promise ${i + 1} in ${delay}ms`);\n    }\n    delay += step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nasync function create(position, delay) {\n  return createPromise(position, delay);\n}\n\nform.addEventListener('submit', formSubmit);"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$getInputValues","elements","delay","step","amount","Number","value","async","$47d4ff9957288465$var$create","position","Promise","resolve","reject","setTimeout","Math","random","$47d4ff9957288465$var$createPromise","addEventListener","event","preventDefault","i","Notify","success","error","failure"],"version":3,"file":"03-promises.f5885eb7.js.map"}